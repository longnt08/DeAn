{"ast":null,"code":"var _jsxFileName = \"C:\\\\DeAn\\\\front-end\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Registration from './components/Registration';\nimport Login from './components/Login';\nimport Dashboard from './components/Dashboard';\nconst App = () => {\n  const [token, setToken] = useState(localStorage.getItem('token') || '');\n  const login = async (username, password) => {\n    const res = await axios.post('/login', {\n      username,\n      password\n    });\n    setToken(res.data.token);\n    localStorage.setItem('token', res.data.token);\n  };\n  const logout = () => {\n    setToken('');\n    localStorage.removeItem('token');\n  };\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    Component: Registration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    login: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, token ? /*#__PURE__*/React.createElement(Dashboard, {\n    token: token,\n    logout: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 64\n    }\n  })));\n};\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Navigate","axios","Registration","Login","Dashboard","App","token","setToken","localStorage","getItem","login","username","password","res","post","data","setItem","logout","removeItem","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","path","Component","to"],"sources":["C:/DeAn/front-end/src/App.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {BrowserRouter as Router, Route, Navigate} from 'react-router-dom';\nimport axios from 'axios'\nimport Registration from './components/Registration';\nimport Login from './components/Login';\nimport Dashboard from './components/Dashboard'\n\nconst App = () => {\n  const [token, setToken] = useState(localStorage.getItem('token') || '');\n\n  const login = async (username, password) => {\n    const res = await axios.post('/login', {username, password});\n    setToken(res.data.token);\n    localStorage.setItem('token', res.data.token);\n  };\n  const logout = () => {\n    setToken('');\n    localStorage.removeItem('token');\n  };\n  \n  return (\n    <Router>\n      <Route path=\"/register\" Component={Registration} />\n      <Route path=\"/login\">\n        <Login login={login} />\n      </Route>\n      <Route path=\"/dashboard\">\n        {token ? <Dashboard token={token} logout={logout} /> : <Navigate to=\"/login\" />}\n      </Route>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAAQC,aAAa,IAAIC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,QAAO,kBAAkB;AACzE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,SAAS,MAAM,wBAAwB;AAE9C,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAChB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAACa,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EAEvE,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAC1C,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,QAAQ,EAAE;MAACH,QAAQ;MAAEC;IAAQ,CAAC,CAAC;IAC5DL,QAAQ,CAACM,GAAG,CAACE,IAAI,CAACT,KAAK,CAAC;IACxBE,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAEH,GAAG,CAACE,IAAI,CAACT,KAAK,CAAC;EAC/C,CAAC;EACD,MAAMW,MAAM,GAAGA,CAAA,KAAM;IACnBV,QAAQ,CAAC,EAAE,CAAC;IACZC,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;EAClC,CAAC;EAED,oBACExB,KAAA,CAAAyB,aAAA,CAACrB,MAAM;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACL/B,KAAA,CAAAyB,aAAA,CAACpB,KAAK;IAAC2B,IAAI,EAAC,WAAW;IAACC,SAAS,EAAEzB,YAAa;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACnD/B,KAAA,CAAAyB,aAAA,CAACpB,KAAK;IAAC2B,IAAI,EAAC,QAAQ;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClB/B,KAAA,CAAAyB,aAAA,CAAChB,KAAK;IAACO,KAAK,EAAEA,KAAM;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACjB,CAAC,eACR/B,KAAA,CAAAyB,aAAA,CAACpB,KAAK;IAAC2B,IAAI,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrBnB,KAAK,gBAAGZ,KAAA,CAAAyB,aAAA,CAACf,SAAS;IAACE,KAAK,EAAEA,KAAM;IAACW,MAAM,EAAEA,MAAO;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAAG/B,KAAA,CAAAyB,aAAA,CAACnB,QAAQ;IAAC4B,EAAE,EAAC,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACzE,CACD,CAAC;AAEb,CAAC;AAED,eAAepB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}